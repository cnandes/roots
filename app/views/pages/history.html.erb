<div class="container p-10">
  <div data-controller="filter-planned-crops">
    <div class="d-flex justify-content-between garden-header">
      <div>
        <h1>History</h1>
      </div>

      <%# ------------- Form to select year and season ------------- %>
      <%= form_with url: history_path, method: :get, class: "d-flex" do |f| %>
        <%= f.select :season,
          ["Summer", "Autumn", "Winter", "Spring"],
          selected: params[:season],
          class: "form-control",
          placeholder: "Select a season"
        %>
        <%= f.select :year,
          @year_range,
          selected: params[:year],
          class: "form-control",
          placeholder: "Select a year"
        %>
        <%= f.submit "Search", class: "btn btn-primary" %>
      <% end %>
      <%# ------------- Select Season from plans page but could potentially reuse ------------- %>
      <%# <div class="input-group mb-3" style="width: 240px; margin-right: 12px;">
        <div class="d-flex">
          <div class="input-group-prepend">
            <label class="input-group-text bg-primary border border-light" for="season">Season</label>
          </div>
          <select class="custom-select border border-light" id="season" data-action="change->filter-planned-crops#filterBySeason" data-filter-planned-crops-target="season">
            <option selected>Please select a season</option>
            <option value="Summer">Summer</option>
            <option value="Autumn">Autumn</option>
            <option value="Winter">Winter</option>
            <option value="Spring">Spring</option>
          </select>
        </div>
      </div> %>

    </div>
    <% if @gardens %>
      <% @gardens.each do |garden| %>
        <%= render "historic_garden", garden: garden, season: @season, year: @year %>
      <% end %>
    <% end %>
    <% if @gardens.empty? %>
      <div class="card my-3">
        <div class="card-header">
          <h2>You don't have any gardens yet</h2>
        </div>
        <div class="card-body no-gardens">
        </div>
      </div>
    <% end %>
  </div>
</div>
